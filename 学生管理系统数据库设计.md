# 学生管理系统数据库设计

### 1. 用户表（users）

| 字段名   | 类型                         | 约束       | 说明         |
| -------- | ---------------------------- | ---------- | ------------ |
| id       | INT                          | 主键，自增 | 用户编号     |
| username | VARCHAR(50)                  | 唯一，非空 | 用户名       |
| password | VARCHAR(100)                 | 非空       | 密码（加密） |
| role     | ENUM('管理员','教师','学生') | 非空       | 用户身份类型 |



------

### 2. 学生表（students）

| 字段名      | 类型                              | 约束       | 说明                           |
| ----------- | --------------------------------- | ---------- | ------------------------------ |
| id          | INT                               | 主键，外键 | 学号（对应 users.id）          |
| name        | VARCHAR(50)                       | 非空       | 姓名                           |
| gender      | ENUM('男','女')                   | 非空       | 性别                           |
| birth       | DATE                              | 可空       | 出生日期                       |
| class_id    | INT                               | 外键       | 班级编号，外键关联 classes(id) |
| phone       | VARCHAR(20)                       | 可空       | 联系电话                       |
| email       | VARCHAR(50)                       | 可空       | 邮箱                           |
| address     | VARCHAR(100)                      | 可空       | 家庭住址                       |
| enroll_date | DATE                              | 可空       | 入学时间                       |
| status      | ENUM('在读','毕业','休学','退学') | 默认'在读' | 学籍状态                       |



------

### 3. 教师表（teachers）

| 字段名             | 类型            | 约束       | 说明                      |
| ------------------ | --------------- | ---------- | ------------------------- |
| id                 | INT             | 主键，外键 | 教师编号（对应 users.id） |
| name               | VARCHAR(50)     | 非空       | 姓名                      |
| gender             | ENUM('男','女') | 非空       | 性别                      |
| phone              | VARCHAR(20)     | 可空       | 联系电话                  |
| email              | VARCHAR(50)     | 可空       | 邮箱                      |
| hire_date          | DATE            | 可空       | 入职时间                  |
| professional_title | VARCHAR(50)     | 可空       | 职称                      |



------

### 4. 班级表（classes）

| 字段名          | 类型         | 约束       | 说明                            |
| --------------- | ------------ | ---------- | ------------------------------- |
| id              | INT          | 主键，自增 | 班级编号                        |
| name            | VARCHAR(50)  | 唯一，非空 | 班级名称                        |
| major           | VARCHAR(50)  | 可空       | 专业                            |
| grade           | VARCHAR(10)  | 可空       | 年级                            |
| college         | VARCHAR(100) | 可空       | 学院                            |
| head_teacher_id | INT          | 外键       | 导员编号，外键关联 teachers(id) |



------

### 5. 课程表（courses）

| 字段名     | 类型        | 约束       | 说明                                |
| ---------- | ----------- | ---------- | ----------------------------------- |
| id         | INT         | 主键，自增 | 课程编号                            |
| name       | VARCHAR(50) | 唯一，非空 | 课程名称                            |
| teacher_id | INT         | 外键       | 任课教师编号，外键关联 teachers(id) |
| credit     | FLOAT       | 可空       | 学分                                |
| capacity   | INT         | 可空       | 课程限选人数                        |



------

### 6. 课程时间表（course_schedule）

| 字段名       | 类型                                                         | 约束       | 说明                               |
| ------------ | ------------------------------------------------------------ | ---------- | ---------------------------------- |
| id           | INT                                                          | 主键，自增 | 记录编号                           |
| course_id    | INT                                                          | 外键       | 所属课程编号，外键关联 courses(id) |
| start_week   | INT                                                          | 非空       | 上课开始周                         |
| end_week     | INT                                                          | 非空       | 上课结束周                         |
| weekday      | ENUM('星期一','星期二','星期三','星期四','星期五','星期六','星期日') | 非空       | 上课星期                           |
| class_period | INT                                                          | 非空       | 节次                               |
| classroom    | VARCHAR(50)                                                  | 可空       | 上课教室                           |
| remark       | VARCHAR(100)                                                 | 可空       | 说明信息                           |



------

### 7. 选课表（enrollments）

| 字段名       | 类型                          | 约束         | 说明                            |
| ------------ | ----------------------------- | ------------ | ------------------------------- |
| id           | INT                           | 主键，自增   | 记录编号                        |
| student_id   | INT                           | 外键         | 学生编号，外键关联 students(id) |
| course_id    | INT                           | 外键         | 课程编号，外键关联 courses(id)  |
| enroll_time  | DATE                          | 可空         | 选课时间                        |
| status       | ENUM('已选','退选')           | 默认'已选'   | 选课状态                        |
| **唯一约束** | UNIQUE(student_id, course_id) | 防止重复选课 |                                 |



------

### 8. 成绩表（scores）

| 字段名        | 类型  | 约束       | 说明                                   |
| ------------- | ----- | ---------- | -------------------------------------- |
| id            | INT   | 主键，自增 | 记录编号                               |
| enrollment_id | INT   | 外键       | 选课记录编号，外键关联 enrollments(id) |
| score         | FLOAT | 可空       | 分数                                   |
| exam_time     | DATE  | 可空       | 考试时间                               |



------

### 9. 通知公告表（notices）

| 字段名       | 类型         | 约束       | 说明                           |
| ------------ | ------------ | ---------- | ------------------------------ |
| id           | INT          | 主键，自增 | 公告编号                       |
| title        | VARCHAR(100) | 非空       | 标题                           |
| content      | TEXT         | 非空       | 内容                           |
| create_time  | DATETIME     | 非空       | 发布时间                       |
| publisher_id | INT          | 外键       | 发布人编号，外键关联 users(id) |



------

### 10. 考勤表（attendance）

| 字段名     | 类型                              | 约束       | 说明                            |
| ---------- | --------------------------------- | ---------- | ------------------------------- |
| id         | INT                               | 主键，自增 | 记录编号                        |
| student_id | INT                               | 外键       | 学生编号，外键关联 students(id) |
| course_id  | INT                               | 外键       | 课程编号，外键关联 courses(id)  |
| date       | DATE                              | 非空       | 上课日期                        |
| status     | ENUM('出勤','迟到','缺勤','请假') | 非空       | 考勤状态                        |



------

### 11. 奖惩表（rewards_punishments）

| 字段名     | 类型                | 约束       | 说明                            |
| ---------- | ------------------- | ---------- | ------------------------------- |
| id         | INT                 | 主键，自增 | 记录编号                        |
| student_id | INT                 | 外键       | 学生编号，外键关联 students(id) |
| type       | ENUM('奖励','惩罚') | 非空       | 类型                            |
| reason     | VARCHAR(200)        | 非空       | 事由                            |
| date       | DATE                | 非空       | 日期                            |
